<!--@{
    ViewBag.Title = "Calculator";
}-->

<!--
     * This is the Class for Calculator Card.
     * Version: 0.4
     * Author: Qihang Wang
-->
<!--<style>
    /* CSS styles for the page */
    body {
        font-family: Arial, sans-serif;
    }

    main {
        max-width: 600px;
        margin: 0 auto;
        padding: 20px;
        background-color: #f5f5f5;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    h2 {
        color: #333;
        text-align: center;
    }

    h3 {
        color: #555;
        text-align: center;
    }

    p {
        color: #777;
        text-align: center;
    }

    form {
        text-align: center;
        margin-top: 20px;
    }

    label {
        font-weight: bold;
    }

    input[type="number"] {
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
        margin: 5px;
    }

    button[type="submit"] {
        padding: 10px 20px;
        background-color: #007bff;
        color: #fff;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }

        button[type="submit"]:hover {
            background-color: #0056b3;
        }

    #result {
        margin-top: 20px;
        text-align: center;
        font-weight: bold;
        color: red;
        font-size: 24px;
    }
</style>
<main aria-labelledby="title">
    <h2 id="title">@ViewBag.Title.</h2>
    <h3>@ViewBag.Message</h3>

    <p>Use this calculator to determine the amount of sunscreen you need based on UV Index.</p>

    <form id="calculatorForm">
        <label for="uvIndex">UV Index:</label>
        <input type="number" id="uvIndex" name="uvIndex" required>
        <button type="submit">Calculate</button>
    </form>

    <div id="result"></div>

    <script>
        // When the window is loaded, get the default UV index value
        window.onload = function () {
            getDefaultUVI();
        }

        // Function to get the default UV index value from sessionStorage
        function getDefaultUVI() {
            var default_uv = sessionStorage.getItem('apidata_uvi_for_cal');
            console.log(default_uv);
            document.getElementById('uvIndex').value = default_uv;
        }

        // Event listener for form submission
        document.getElementById("calculatorForm").addEventListener("submit", function (event) {
            event.preventDefault(); // Prevent default form submission behavior

            // Get the UV index value from the input field
            var uvIndex = parseFloat(document.getElementById("uvIndex").value);

            // Calculate the amount of sunscreen needed based on UV index
            var sunscreenAmount = calculateSunscreen(uvIndex);

            // Display the result
            document.getElementById("result").innerHTML = "You need to apply approximately <span style='font-size: 30px; color: red;'>" + sunscreenAmount.toFixed(2) + "</span> tablespoons of SPF sunscreen.";
        });

        // Function to calculate sunscreen amount based on UV index
        function calculateSunscreen(uvIndex) {
            if (uvIndex >= 0 && uvIndex <= 2) {
                return 0.5;
            } else if (uvIndex > 2 && uvIndex <= 5) {
                return 1.0;
            } else if (uvIndex > 5 && uvIndex <= 7) {
                return 1.5;
            } else if (uvIndex > 7 && uvIndex <= 10) {
                return 2.0;
            } else {
                return 2.5;
            }
        }
    </script>
</main>-->

