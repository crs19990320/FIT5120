@{
    ViewBag.Title = "CardGame";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>@ViewBag.Title</title>
    <style>
        body {
            position: relative;
            font-family: Arial, sans-serif;
        }

        #gifBackground {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .tabbed-container {
            width: 1000px;
            margin: 20px auto;
            box-shadow: 0 0 15px rgba(0,0,0,0.2);
        }

        .tabs {
            list-style: none;
            padding: 0;
            margin: 0;
            background-color: #333;
            overflow: hidden;
            text-align: center;
        }

        .tabs .tab-link {
            display: inline-block;
            padding: 10px 15px;
            cursor: pointer;
            background-color: #333;
            color: white;
            border-bottom: 3px solid transparent;
        }

        .tabs .tab-link.current {
            background-color: #f9f9f9;
            color: #333;
            border-bottom: 3px solid #f9f9f9;
        }

        .tab-content {
            display: none;
            padding: 20px;
            background-color: #f9f9f9;
            color: #333;
            text-align: center;
        }

        .tab-content.current {
            display: block;
            text-align: center;
        }

        .back-to-home {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: transparent;
            border: none;
            cursor: pointer;
            z-index: 1000;
        }

        .back-to-home img {
            width: 80px;
            height: auto;
        }

        .instruction {
            width: 130px;
            height: auto;
            position: absolute;
            top: 40px;
            right: 255px;
            border: none;
            cursor: pointer;
            z-index: 1000;
        }

        html, body {
            overflow-y: hidden;
        }
    </style>
</head>
<body>

    <button class="back-to-home" onclick="goToIndex()">
        <img src="~/Media/homebutton.png" alt="Home">
    </button>

    <img id="gifBackground" src="~/Media/giphy2.gif" alt="GIF Background">

    <div style="text-align:center;">
        <iframe id="unityFrame" src="~/Games/card.html" style="width:1300px; height:800px;">
        </iframe>
        <button id="reset" style="width: 50px; position: relative; left: 20px; top: -125px; float: right; background-color: transparent; border: none;">
            <img style="width:100%;" src="~/Media/reset.png" />
        </button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const tabs = document.querySelectorAll('.tab-link');
            const tabContents = document.querySelectorAll('.tab-content');

            tabs.forEach(tab => {
                tab.addEventListener('click', function () {
                    const target = document.querySelector('#' + this.dataset.tab);

                    tabs.forEach(t => {
                        t.classList.remove('current');
                    });
                    tabContents.forEach(tc => {
                        tc.classList.remove('current');
                    });

                    tab.classList.add('current');
                    target.classList.add('current');
                });
            });
        });
    </script>

    <script>
    document.getElementById('reset').addEventListener('click', function () {
        var jsonData = @Html.Raw(Json.Encode(Model));

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }
        shuffle(jsonData);
        var selectedQuestions = jsonData.slice(0, 10);
        var encapsulatedData = {
            questions: selectedQuestions
        };
        sessionStorage.setItem('QuestionJson', JSON.stringify(encapsulatedData));
        console.log("Randomly selected 10 questions:", encapsulatedData);
        window.location.reload();
    });
    </script>

    <script>
        function goToIndex() {
            window.location.href = "Dashboard";
        }
    </script>

    @*<script>
        function goToInstruction() {
            window.location.href = "Instruction";
        }
    </script>*@

    <script>
        window.alert = function (msg) {
            console.log(1);
        };
    </script>
</body>
</html>
